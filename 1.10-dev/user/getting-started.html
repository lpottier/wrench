<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta name="generator" content="Doxygen 1.8.17"/>
    <!--    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>-->
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <link href="doxygen.css" rel="stylesheet" type="text/css"/>
    <link href="tabs.css" rel="stylesheet" type="text/css"/>
    <link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
<link href="custom.css" rel="stylesheet" type="text/css"/>
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
    <div id="titlearea" style="width: 100%">
        <table cellspacing="0" cellpadding="0" style="margin-bottom: 1em; width: 100%">
            <tbody>
            <tr>
                <td id="projectlogo"><img alt="Logo" src="wrench-logo.png"/></td>
                <td id="projectalign" style="padding-left: 0.5em; margin-bottom: 1em; min-width: 270px">
                    <div id="projectname">WRENCH
                        &#160;<span id="projectnumber">1.10-dev</span>
                    </div>
                    <div id="projectbrief">Cyberinfrastructure Simulation Workbench</div>
                </td>
                <td style="vertical-align: bottom">
                    <a class="link" href="/wrench/1.10-dev/index.html">Overview</a>
                </td>
                <td style="vertical-align: bottom">
                    <a class="link" href="/wrench/1.10-dev/install.html">Installation</a>
                </td>
                <td style="vertical-align: bottom">
                    <a class="link" href="/wrench/1.10-dev/getting-started.html">Getting Started</a>
                </td>
                <td style="vertical-align: bottom">
                    <a class="link" href="/wrench/1.10-dev/wrench-101.html">WRENCH 101</a>
                </td>
                <td style="vertical-align: bottom">
                    <a class="link" href="/wrench/1.10-dev/wrench-102.html">WRENCH 102</a>
                </td>
                <td style="vertical-align: bottom">
                    <div class="dropdown">
                        <button class="dropbtn link">APIs Reference</button>
                        <div class="dropdown-content">
                            <a class="small dropdown-item link"
                               href="/wrench/1.10-dev/user/annotated.html">User</a>
                            <a class="small dropdown-item link"
                               href="/wrench/1.10-dev/developer/annotated.html">Developer</a>
                            <a class="small dropdown-item link"
                               href="/wrench/1.10-dev/internal/annotated.html">Internal</a>
                        </div>
                    </div>
                </td>
                <td style="float: right; min-width: 230px; padding-top: 1em">        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
            </tr>
            </tbody>
        </table>
    </div>
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Getting started </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#getting-started-wrench-init">Using the WRENCH initialization tool</a></li>
<li class="level1"><a href="#getting-started-cmakelists">Creating a CMakeLists.txt file by hand</a></li>
<li class="level1"><a href="#getting-started-example">Example WRENCH simulators</a></li>
</ul>
</div>
<div class="textblock"><p>Once you have installed the WRENCH library, following the instructions on the <a class="el" href="install.html">installation page</a>, you are ready to create a WRENCH simulator. <b>Information on what can be simulated and how to do it are provided in the <a class="el" href="wrench-101.html">WRENCH 101</a> and <a class="el" href="wrench-102.html">WRENCH 102</a> pages. This page is only about the logistics of setting up a simulator project.</b></p>
<h1><a class="anchor" id="getting-started-wrench-init"></a>
Using the WRENCH initialization tool</h1>
<p>The <code>wrench-init</code> tool is a project generator built with WRENCH, which creates a simple project structure as follows:</p>
<div class="fragment"><div class="line">project-folder/</div>
<div class="line">├── CMakeLists.txt</div>
<div class="line">├── CMakeModules</div>
<div class="line">│   └── FindSimGrid.cmake</div>
<div class="line">├── src/</div>
<div class="line">│   ├── SimpleSimulator.cpp</div>
<div class="line">│   ├── SimpleStandardJobScheduler.cpp</div>
<div class="line">│   ├── SimpleStandardJobScheduler.h</div>
<div class="line">│   ├── SimpleWMS.cpp</div>
<div class="line">│   └── SimpleWMS.h </div>
<div class="line">├── test/</div>
<div class="line">├── doc/</div>
<div class="line">├── build/</div>
<div class="line">└── data/</div>
<div class="line">    └── platform-files/</div>
<div class="line">        └── hosts.xml</div>
</div><!-- fragment --><p>The <code>simplesimulator.cpp</code> source file contains the class representing the simulator (either cloud or batch). <code>simplestandardjobscheduler.h</code> and <code>simplestandardjobscheduler.cpp</code> contain a simple implementation for a <code><a class="el" href="classwrench_1_1_standard_job_scheduler.html" title="A (mostly virtual) base class for implementing StandardJob scheduling algorithms to be used by a WMS.">wrench::StandardJobScheduler</a></code>; <code>simplewms.h</code> and <code>simplewms.cpp</code> denote the implementation of a simple workflow management system. Example platform and workflow files are also generated into the <code>data</code> folder. These files provide the minimum necessary implementation for a WRENCH-enabled simulator.</p>
<p>The <code>wrench-init</code> tool only requires a single argument, the name of the folder where the project skeleton will be generated:</p>
<div class="fragment"><div class="line">$ wrench-init &lt;project_folder&gt;</div>
</div><!-- fragment --><p>Additional options supported by the tool can be found by using the <code>wrench-init --help</code> command.</p>
<h1><a class="anchor" id="getting-started-cmakelists"></a>
Creating a CMakeLists.txt file by hand</h1>
<p>Alternatively, you can do a manual setup, i.e., create your own Cmake project. Below is an example of a <code>CMakeLists.txt</code> file that can be used as a basic template:</p>
<div class="fragment"><div class="line">cmake_minimum_required(version 3.2)</div>
<div class="line">message(status &quot;cmake version ${cmake_major_version}.${cmake_minor_version}.${cmake_patch_version}&quot;)</div>
<div class="line"> </div>
<div class="line">project(your_project_name)</div>
<div class="line"> </div>
<div class="line">add_definitions(&quot;-wall -wno-unused-variable -wno-unused-private-field&quot;)</div>
<div class="line"> </div>
<div class="line">set(cmake_cxx_standard 11)</div>
<div class="line"> </div>
<div class="line"># include directories for dependencies and wrench libraries</div>
<div class="line">include_directories(src/ /usr/local/include /usr/local/include/wrench)</div>
<div class="line"> </div>
<div class="line"># source files</div>
<div class="line">set(source_files</div>
<div class="line">        src/main.cpp</div>
<div class="line">        )</div>
<div class="line"> </div>
<div class="line"># test files</div>
<div class="line">set(test_files</div>
<div class="line">        )</div>
<div class="line"> </div>
<div class="line"># wrench library and dependencies</div>
<div class="line">find_library(wrench_library names wrench)</div>
<div class="line">find_library(simgrid_library names simgrid)</div>
<div class="line">find_library(pugixml_library names pugixml)</div>
<div class="line">find_library(gtest_library names gtest)</div>
<div class="line"> </div>
<div class="line"># generating the executable</div>
<div class="line">add_executable(my-executable ${source_files})</div>
<div class="line">target_link_libraries(my-executable </div>
<div class="line">                        ${wrench_library} </div>
<div class="line">                        ${simgrid_library} </div>
<div class="line">                        ${pugixml_library} </div>
<div class="line">                     )</div>
<div class="line"> </div>
<div class="line">install(targets my-executable destination bin)</div>
<div class="line"> </div>
<div class="line"># generating unit tests</div>
<div class="line">add_executable(unit_tests exclude_from_all </div>
<div class="line">                 ${source_files} </div>
<div class="line">                 ${test_files}</div>
<div class="line">               )</div>
<div class="line">target_link_libraries(unit_tests </div>
<div class="line">                        ${gtest_library} wrench -lpthread -lm</div>
<div class="line">                      )</div>
</div><!-- fragment --><h1><a class="anchor" id="getting-started-example"></a>
Example WRENCH simulators</h1>
<p>The examples in the <code>examples</code> directory provide good starting points for developing your own simulators. Typing <code>make</code> in the top-level directory compiles the examples in the <code>examples</code> directory (note that examples are already installed as executables programs in the container, so there is no need to compile them).</p>
<p>Let us run the <code>examples/basic-examples/bare-metal-bag-of-tasks</code> by navigating to that directory and typing:</p>
<div class="fragment"><div class="line">$ ./wrench-example-bare-metal-bag-of-tasks 6 ./two_hosts.xml --log=custom_wms.threshold=info</div>
<div class="line"> </div>
<div class="line"># or if in the container just call the executable directly:</div>
<div class="line">$ wrench-example-bare-metal-bag-of-tasks 6 ./two_hosts.xml --log=custom_wms.threshold=info</div>
</div><!-- fragment --><p>You should see some output in the terminal. The output in white is produced by the simulator implemented with the WRENCH user API. The output in green is produced by the workflow management system implemented with the WRENCH developer API.</p>
<p>Although you can inspect the codes of the examples on your own, we highly recommend that you go through the <a class="el" href="wrench-101.html">WRENCH 101</a> and <a class="el" href="wrench-102.html">WRENCH 102</a> pages first. These pages make direct references to the examples, a description of which is available in <code>examples/README.md</code> in the WRENCH distribution. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<div class="footer">
    <div style="float: left; width: 40%; padding-left: 2em; padding-bottom: 4em !important;">
        <p style="font-size: 0.8em"><strong>&copy;2017-2021 WRENCH. All Rights Reserved.</strong><br/></p>
        <p style="padding-top: 1em">
            <a href="mailto:support@wrench-project.org" class="fa-stack fa-2x" style="font-size: 1.5em">
                <i class="fa fa-circle fa-stack-2x icon-background"></i>
                <i class="fa fa-envelope fa-stack-1x"></i>
            </a>
            <a href="https://twitter.com/wrenchproject" target="_blank" class="fa-stack fa-2x"
               style="font-size: 1.5em">
                <i class="fa fa-circle fa-stack-2x icon-background"></i>
                <i class="fab fa-twitter fa-stack-1x"></i>
            </a>
            <a href="https://github.com/wrench-project/wrench" target="_blank" class="fa-stack fa-2x"
               style="font-size: 1.5em">
                <i class="fa fa-circle fa-stack-2x icon-background"></i>
                <i class="fab fa-github fa-stack-1x"></i>
            </a>
        </p>
    </div>
    <div style="float: right; width: 40%; padding-right: 2em">
        <p style="font-size: 0.8em">
            WRENCH is funded by the National Science Foundation (NSF) under grants number <a
                href="https://nsf.gov/awardsearch/showAward?AWD_ID=2103489" target="_blank">2103489</a>,
            <a href="https://nsf.gov/awardsearch/showAward?AWD_ID=2103508" target="_blank">2103508</a>,
            <a href="https://nsf.gov/awardsearch/showAward?AWD_ID=1923539" target="_blank">1923539</a>, and
            <a href="https://nsf.gov/awardsearch/showAward?AWD_ID=1923621" target="_blank">1923621</a>;
            and the National Center for Scientific Research (CNRS) under grant number PICS07239.
        </p>
        <p style="font-weight: normal; font-size: 0.7em; margin-top: 1em">
            Any opinions, findings, and conclusions or recommendations expressed in this material are those
            of the author(s) and do not necessarily reflect the views of the National Science Foundation.
        </p>
    </div>
</div>
<!-- add the button to toggle the theme -->
<script>
    $(document).ready(function () {
        toggleButton = document.createElement('doxygen-awesome-dark-mode-toggle')
        toggleButton.title = "Toggle Light/Dark Mode"
        document.getElementById("MSearchBox").parentNode.appendChild(toggleButton)
    })
</script>
<!-- Google Analytics -->
<script>
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
            m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-18066333-6', 'auto');
    ga('send', 'pageview');
</script>
</body>
</html>
